<p align="center">
    <br>
    <img src="https://github.com/yaosenJ/CoalQA/blob/main/imgs/coal_mine_safety.png?raw=true" width="300" height="300"/>
    <br>
</p>

# ç…¤çŸ¿å®‰å…¨å¤§æ¨¡å‹â€”â€”â€”â€”çŸ¿é€”æ™ºæŠ¤è€…

**æœ¬é¡¹ç›®ç®€ä»‹ï¼š**

è¿‘å¹´æ¥ï¼Œå›½å®¶å¯¹ç…¤çŸ¿å®‰å…¨ç”Ÿäº§çš„é‡è§†ç¨‹åº¦ä¸æ–­æå‡ã€‚ä¸ºäº†ç¡®ä¿ç…¤çŸ¿ä½œä¸šçš„å®‰å…¨ï¼Œæé«˜ä»ä¸šäººå‘˜çš„å®‰å…¨çŸ¥è¯†æ°´å¹³æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚é‰´äºæ­¤ï¼Œç›®å‰è¿«åˆ‡éœ€è¦ä¸€ä¸ªé«˜æ•ˆã€é›†æˆåŒ–çš„è§£å†³æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆèƒ½å¤Ÿæ•´åˆç…¤çŸ¿å®‰å…¨ç›¸å…³çš„å„ç±»çŸ¥è¯†ï¼Œä¸ºç…¤çŸ¿ä¼ä¸šè´Ÿè´£äººã€å®‰å…¨ç®¡ç†äººå‘˜ã€çŸ¿å·¥æä¾›ä¸€ä¸ªç²¾ç¡®ã€è¿…é€Ÿçš„ä¿¡æ¯æŸ¥è¯¢ã€å­¦ä¹ ä¸å†³ç­–æ”¯æŒå¹³å°ã€‚
ä¸ºå®ç°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬åˆ©ç”¨åŒ…æ‹¬ç…¤çŸ¿å†å²äº‹æ•…æ¡ˆä¾‹ã€äº‹æ•…å¤„ç†æŠ¥å‘Šã€å®‰å…¨æ“ä½œè§„ç¨‹ã€è§„ç« åˆ¶åº¦ã€æŠ€æœ¯æ–‡æ¡£ä»¥åŠç…¤çŸ¿ä»ä¸šäººå‘˜å…¥èŒè€ƒè¯•é¢˜åº“ç­‰åœ¨å†…çš„ä¸°å¯Œæ•°æ®èµ„æºï¼Œé€šè¿‡å¾®è°ƒInternLM2æ¨¡å‹ï¼Œæ„å»ºå‡ºä¸€ä¸ªä¸“é—¨é’ˆå¯¹ç…¤çŸ¿äº‹æ•…å’Œç…¤çŸ¿å®‰å…¨çŸ¥è¯†æ™ºèƒ½é—®ç­”çš„ç…¤çŸ¿å®‰å…¨å¤§æ¨¡å‹ã€‚

**æœ¬é¡¹ç›®çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š**

- æ”¯æŒç…¤çŸ¿å®‰å…¨é¢†åŸŸå¸¸è§„é¢˜å‹è§£ç­”ï¼Œå¦‚ï¼šå•é€‰é¢˜ã€å¤šé€‰é¢˜ã€åˆ¤æ–­é¢˜ã€å¡«ç©ºé¢˜ç­‰ ï¼ˆé’ˆå¯¹ç…¤çŸ¿ä¸»è¦è´Ÿè´£äººåŠå®‰ç®¡äººå‘˜ã€ç…¤çŸ¿å„ç§ä½œä¸šäººå‘˜ï¼‰
- æ”¯æŒé’ˆå¯¹å®‰å…¨è§„ç¨‹è§„ç« åˆ¶åº¦ã€æŠ€æœ¯ç­‰æ–‡æ¡£å†…å®¹å›ç­”ï¼ˆå¦‚ã€Šä¸­åäººæ°‘å…±å’Œå›½çŸ¿å±±å®‰å…¨æ³•ã€‹ã€ã€Šç…¤çŸ¿å»ºè®¾å®‰å…¨è§„ç¨‹ã€‹ï¼‰
- æ”¯æŒç…¤çŸ¿å†å²äº‹æ•…æ¡ˆä¾‹ï¼Œäº‹æ•…å¤„ç†æŠ¥å‘ŠæŸ¥è¯¢ï¼Œæä¾›äº‹æ•…åŸå› è¯¦ç»†åˆ†æã€äº‹æ•…é¢„é˜²æªæ–½ä»¥åŠåº”æ€¥å“åº”çŸ¥è¯†

 ç±»åˆ«     | åº•åº§   | åç§°                      | ç‰ˆæœ¬ | ä¸‹è½½é“¾æ¥                                                     |å¾®è°ƒæ–¹æ³•|
| -------- | ------ | ------------------------- | ---- | ------------------------------------------------------------ |---------|
| å¯¹è¯æ¨¡å‹ | InternLM2-Chat-1_8B|CoalMineLLM_InternLM2-Chat-1_8B    | V1.0 | [OpenXLab](https://openxlab.org.cn/models/detail/viper/CoalMineLLM_InternLM2-Chat-1_8B)|QLora|
| å¯¹è¯æ¨¡å‹ | InternLM2-Chat-7B  |CoalMineLLM_InternLM2-Chat-7B      | V1.0 | [OpenXLab](https://openxlab.org.cn/models/detail/viper/CoalMineLLM_InternLM2-Chat-7B)|QLora|
| å¯¹è¯æ¨¡å‹ | InternLM2-Math-7B  |CoalMineLLM_InternLM2-Math-7B      | V1.0 | [OpenXLab](https://openxlab.org.cn/models/detail/viper/CoalMineLLM_InternLM2-Math-7B)|QLora|
| å¯¹è¯æ¨¡å‹ | InternLM2-Chat-20B |CoalMineLLM_InternLM2-Chat-20B     | V1.0 | [OpenXLab](https://openxlab.org.cn/models/detail/viper/CoalMineLLM_InternLM2-Chat-20B)|QLora|

## ğŸ“ æ¶æ„å›¾

<p align="center">
    <br>
    <img src="https://github.com/yaosenJ/CoalQA/blob/main/imgs/%E6%9E%B6%E6%9E%84%E5%9B%BE3.png?raw=true" width="920" height="400"/>
    <br>
    <br>
    <img src="https://github.com/yaosenJ/CoalQA/blob/main/imgs/RAG.png?raw=true" width="920" height="400"/>
    <br>
</p>

## ğŸ“¬ NEWS
- \[**2024/06/05**\] CoalMineLLM_InternLM2-Chat-1_8V1.0ç‰ˆå·²éƒ¨ç½²ä¸Šçº¿[https://openxlab.org.cn/apps/detail/milowang/CoalQAv1](https://openxlab.org.cn/apps/detail/milowang/CoalQAv1)ã€‚
- \[**2024/06/03**\] å‘å¸ƒCoalMineLLM_InternLM2-Chat-20Bæ¨¡å‹åˆ°OpenXLabã€‚
- \[**2024/06/01**\] å‘å¸ƒCoalMineLLM_InternLM2-Chat-1_8Bã€CoalMineLLM_InternLM2-Math-7Bæ¨¡å‹åˆ°OpenXLabã€‚
- \[**2024/05/31**\] å‘å¸ƒCoalMineLLM_InternLM2-Chat-7Bæ¨¡å‹åˆ°OpenXLabã€‚
- \[**2024/05/22**\] æˆ‘ä»¬å¯åŠ¨äº†ç…¤çŸ¿å®‰å…¨é¢†åŸŸçš„å¤§æ¨¡å‹é¡¹ç›®ã€‚

## ğŸ—‚ï¸ ç›®å½•

- [ğŸš´ å¿«é€Ÿå¼€å§‹](#1-å¿«é€Ÿä½¿ç”¨)
  - [æœ¬åœ°Demoéƒ¨ç½²](#11-æœ¬åœ°Demoéƒ¨ç½²)
  - [åœ¨çº¿ä½“éªŒ](#12-åœ¨çº¿ä½“éªŒ)
- [è¯¦ç»†æŒ‡å—](#2-è¯¦ç»†æŒ‡å—)
  - [ç¯å¢ƒé…ç½®](#21-ç¯å¢ƒé…ç½®)
  - [æ•°æ®æ„é€ ](#22-æ•°æ®æ„é€ )
  - [æ¨¡å‹å¾®è°ƒ](#23-æ¨¡å‹å¾®è°ƒ)
  - [RAG](#24-RAG)
  - [éƒ¨ç½²](#25-éƒ¨ç½²)
- [æ¡ˆä¾‹å±•ç¤º](#3-æ¡ˆä¾‹å±•ç¤º)
- [äººå‘˜è´¡çŒ®](#4-äººå‘˜è´¡çŒ®)
- [ğŸ’¡ è‡´è°¢](#5-è‡´è°¢)

<h2 id="1">ğŸš´ å¿«é€Ÿä½¿ç”¨ </h2>

<h3 id="1-1">æœ¬åœ°Demoéƒ¨ç½² </h3>

```shell
git clone https://github.com/yaosenJ/CoalQA.git
cd CoalQA
conda create -n CoalQA python=3.10.0 -y
conda activate CoalQA
conda install pytorch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 pytorch-cuda=12.1 -c pytorch -c nvidia
pip install -r requirements.txt
cd web_app
streamlit run streamlit_app.py --server.address=127.0.0.1 --server.port 6006
```

<h3 id="1-2">åœ¨çº¿ä½“éªŒ </h3>

CoalMineLLM_InternLM2-Chat-1_8ç‰ˆä½“éªŒåœ°å€ï¼š[https://openxlab.org.cn/apps/detail/milowang/CoalQAv1](https://openxlab.org.cn/apps/detail/milowang/CoalQAv1)

<h2 id="2"> è¯¦ç»†æŒ‡å— </h2>

<h3 id="2-1"> ç¯å¢ƒé…ç½® </h3>

```shell
git clone https://github.com/yaosenJ/CoalQA.git
cd CoalQA
conda create -n CoalQA python=3.10.0 -y
conda activate CoalQA
conda install pytorch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 pytorch-cuda=12.1 -c pytorch -c nvidia
pip install -r requirements.txt
```

<h3 id="2-2"> æ•°æ®æ„é€  </h3>

- è¯·æŸ¥çœ‹[æ•°æ®æ„é€ æŒ‡å—](https://github.com/yaosenJ/CoalQA/tree/main/data_process#readme)

- ç›¸å…³æ•°æ®è¯·è§[CoalQA/data](https://github.com/yaosenJ/CoalQA/tree/main/data)

<h3 id="2-3"> æ¨¡å‹å¾®è°ƒ </h3>

- è¯¦ç»†æŸ¥çœ‹æ¨¡å‹å¾®è°ƒï¼Œè¯·æŸ¥é˜…[æ¨¡å‹å¾®è°ƒæŒ‡å—](https://github.com/yaosenJ/CoalQA/blob/main/finetune/README.md)

<h3 id="2-4"> RAG </h3>

- æ£€ç´¢å¢å¼ºç”ŸæˆRAGç›¸å…³ç»†èŠ‚ï¼Œè¯¦è§ï¼š[RAGè¯¦ç»†æŒ‡å—](https://github.com/yaosenJ/CoalQA/tree/main/rag#readme)
- ä½¿ç”¨Neo4jå’ŒLangchainé›†æˆéç»“æ„åŒ–å’Œå›¾çŸ¥è¯†å¢å¼ºç…¤çŸ¿äº‹æ•…QAï¼Œè§[CoalMineLLM-InternLM2-Chat-1_8Bç‰ˆ](https://github.com/yaosenJ/CoalQA/blob/main/demo/CoalMineLLM-InternLM2_Chat-1_8B-integrated-qa-neo4j-langchain.ipynb)

<h3 id="2-5"> éƒ¨ç½² </h3>

- æœ¬åœ°éƒ¨ç½²ï¼šè¯¦è§[æœ¬åœ°éƒ¨ç½²è¯´æ˜](web_app/README.md)
- openxlabéƒ¨ç½²ï¼šè¯¦è§[openxlabéƒ¨ç½²è¯´æ˜](web_app/publish/README.md)
- åŸºäº[LMDeploy](https://github.com/InternLM/lmdeploy/)çš„é‡åŒ–éƒ¨ç½²ï¼šè¯¦è§[deploy](web_app/lmdeploy.md)

<h2 id="3"> æ¡ˆä¾‹å±•ç¤º </h2>
<p align="center">
    <br>
    <img src="https://github.com/yaosenJ/CoalQA/blob/main/imgs/%E8%87%AA%E6%88%91%E8%AE%A4%E7%9F%A5.png?raw=true" width="800" height="400"/>
    <br>
    <br>
    <img src="https://github.com/yaosenJ/CoalQA/blob/main/imgs/%E7%AD%94%E9%A2%98.png?raw=true" width="800" height="400"/>
    <br>
    <br>
    <img src="https://github.com/yaosenJ/CoalQA/blob/main/imgs/%E7%85%A4%E7%9F%BF%E5%AE%89%E5%85%A8%E7%AD%94%E9%A2%98.png?raw=true" width="800" height="500"/>
    <br>
     <br>
    <img src="https://github.com/yaosenJ/CoalQA/blob/main/imgs/%E4%BA%8B%E6%95%85%E6%9F%A5%E8%AF%A2.png?raw=true" width="800" height="400"/>
    <br>
</p>


<h2 id="4"> äººå‘˜è´¡çŒ® </h2>

[yaosenJ](https://github.com/yaosenJ): é¡¹ç›®å‘èµ·äººï¼Œè´Ÿè´£æ•°æ®æ„é€ ã€æ¨¡å‹å¾®è°ƒã€æ–‡æ¡£æ•´ç†

[kaiwang0112006](https://github.com/kaiwang0112006): è´Ÿè´£æ•°æ®æ„é€ ã€æ¨¡å‹éƒ¨ç½²ã€æµ‹è¯•

[qzd-1](https://github.com/qzd-1): è´Ÿè´£RAG

[Volta-lemon](https://github.com/Volta-lemon): è´Ÿè´£æ¨¡å‹å¾®è°ƒã€æµ‹è¯•

[Hao813](https://github.com/Hao813): è´Ÿè´£æ•°æ®æ”¶é›†ã€æ¶æ„å›¾ç»˜åˆ¶


<h2 id="5">ğŸ’¡ è‡´è°¢</h2>


æˆ‘ä»¬éå¸¸æ„Ÿè°¢ä»¥ä¸‹è¿™äº›å¼€æºé¡¹ç›®ç»™äºˆæˆ‘ä»¬çš„å¸®åŠ©ï¼š

- [InternLM](https://github.com/InternLM/InternLM)

- [Xtuner](https://github.com/InternLM/xtuner)

- [Imdeploy](https://github.com/InternLM/lmdeploy)

- [InternlM-Tutorial](https://github.com/InternLM/Tutorial)
  
æœ€åæ„Ÿè°¢ä¸Šæµ·äººå·¥æ™ºèƒ½å®éªŒå®¤æ¨å‡ºçš„ä¹¦ç”ŸÂ·æµ¦è¯­å¤§æ¨¡å‹å®æˆ˜è¥ï¼Œä¸ºæˆ‘ä»¬çš„é¡¹ç›®æä¾›å®è´µçš„æŠ€æœ¯æŒ‡å¯¼å’Œå¼ºå¤§çš„ç®—åŠ›æ”¯æŒï¼
